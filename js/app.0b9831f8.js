(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[3],{0:function(e,t,r){e.exports=r("2f39")},"0047":function(e,t,r){},"2f39":function(e,t,r){"use strict";r.r(t);var n={};r.r(n),r.d(n,"drawerState",(function(){return Z})),r.d(n,"users",(function(){return G})),r.d(n,"messages",(function(){return H}));var a={};r.r(a),r.d(a,"setDrawerState",(function(){return J})),r.d(a,"SET_DRAWERSTATE",(function(){return Y})),r.d(a,"setCurrentUserData",(function(){return X})),r.d(a,"addUserToList",(function(){return ee}));var u={};r.r(u),r.d(u,"firestore",(function(){return ne})),r.d(u,"userRef",(function(){return ae})),r.d(u,"listRef",(function(){return ue})),r.d(u,"orderedListRef",(function(){return ie})),r.d(u,"storageRef",(function(){return oe})),r.d(u,"listRefPush",(function(){return se})),r.d(u,"addNewMessage",(function(){return ce})),r.d(u,"addNewDicedMessage",(function(){return fe})),r.d(u,"listRefUpdate",(function(){return le}));var i={};r.r(i),r.d(i,"setDrawerState",(function(){return de})),r.d(i,"getUsers",(function(){return pe})),r.d(i,"getMessages",(function(){return he})),r.d(i,"sendTextMessage",(function(){return me})),r.d(i,"sendDiceMessageToDB",(function(){return be}));var o={};r.r(o),r.d(o,"currentUser",(function(){return we})),r.d(o,"editUserDialog",(function(){return xe}));var s={};r.r(s),r.d(s,"setCurrentUserData",(function(){return ye})),r.d(s,"setEditUserDialog",(function(){return Ue})),r.d(s,"changeCurrentUserData",(function(){return ke})),r.d(s,"setEmail",(function(){return Ae}));var c={};r.r(c),r.d(c,"getCurrentUser",(function(){return Oe}));var f={};r.r(f),r.d(f,"setAuthState",(function(){return De})),r.d(f,"SET_USER",(function(){return Re})),r.d(f,"SET_TOKEN",(function(){return je}));var l={};r.r(l),r.d(l,"addUserToUsersCollection",(function(){return qe})),r.d(l,"createNewUser",(function(){return Ne})),r.d(l,"loginUser",(function(){return Ve})),r.d(l,"logoutUser",(function(){return $e})),r.d(l,"routeUserToAuth",(function(){return Fe}));var d={};r.r(d),r.d(d,"self",(function(){return ct})),r.d(d,"auth",(function(){return ft})),r.d(d,"ensureAuthIsInitialized",(function(){return lt})),r.d(d,"fBInit",(function(){return dt})),r.d(d,"isAuthenticated",(function(){return pt})),r.d(d,"logoutUser",(function(){return ht})),r.d(d,"handleOnAuthStateChanged",(function(){return mt})),r.d(d,"routerBeforeEach",(function(){return bt}));var p={};r.r(p),r.d(p,"createUserWithEmail",(function(){return gt})),r.d(p,"logoutUser",(function(){return vt})),r.d(p,"loginWithEmail",(function(){return wt}));var h=r("a34a"),m=r.n(h),b=(r("a481"),r("96cf"),r("c973")),g=r.n(b),v=(r("7d6e"),r("e54f"),r("985d"),r("0047"),r("2b0e")),w=r("1f91"),x=r("42d2"),y=r("b05d"),U=r("4d5a"),k=r("e359"),A=r("9404"),O=r("09e3"),P=r("9989"),E=r("65c6"),S=r("6ac5"),D=r("9c40"),R=r("0016"),j=r("1c1c"),T=r("66e5"),Q=r("0170"),I=r("3980"),W=r("4983"),C=r("f508"),B=r("2a19");v["a"].use(y["a"],{config:{},lang:w["a"],iconSet:x["a"],components:{QLayout:U["a"],QHeader:k["a"],QDrawer:A["a"],QPageContainer:O["a"],QPage:P["a"],QToolbar:E["a"],QToolbarTitle:S["a"],QBtn:D["a"],QIcon:R["a"],QList:j["a"],QItem:T["a"],QItemLabel:Q["a"],QResizeObserver:I["a"],QScrollArea:W["a"]},plugins:{Loading:C["a"],Notify:B["a"]}});var L=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"q-app"}},[r("router-view")],1)},q=[],N={name:"App"},V=N,$=r("2877"),F=Object($["a"])(V,L,q,!1,null,null,null),M=F.exports,_=r("2f62"),K=r("3317"),z={drawerState:!1,users:[],messages:[]},Z=function(e){var t=e.drawerState;return t},G=function(e){var t=e.users;return t},H=function(e){var t=e.messages;return t};function J(e,t){e.drawerState=t}function Y(e,t){e.drawerState=t}var X=function(e,t){console.log(t),e.newUser=t};function ee(e,t){e.users.push(t)}var te=r("59ca"),re=r.n(te),ne=(r("ea7b"),r("e71f"),r("588e"),function(){return re.a.firestore()}),ae=function(e,t){return ne().collection(e).doc(t)},ue=function(e){return ne().collection(e)},ie=function(e,t){return ne().collection(e).orderBy(t,"asc")},oe=function(e){return re.a.storage().ref(e)},se=function(){var e=g()(m.a.mark((function e(t,r){return m.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",re.a.firestore().collection(t).add(r));case 4:e.prev=4,e.t0=e["catch"](0),console.log(e.t0);case 7:case"end":return e.stop()}}),e,null,[[0,4]])})));return function(t,r){return e.apply(this,arguments)}}(),ce=function(){var e=g()(m.a.mark((function e(t){return m.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",re.a.firestore().collection("messages").add({date:new Date,text:t.text,type:re.a.firestore().collection("messagestype").doc("Q5anEDhfAtKKWh7VAQWq"),from:re.a.firestore().collection("users").doc(t.from)}));case 4:e.prev=4,e.t0=e["catch"](0),console.log(e.t0);case 7:case"end":return e.stop()}}),e,null,[[0,4]])})));return function(t){return e.apply(this,arguments)}}(),fe=function(){var e=g()(m.a.mark((function e(t){return m.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",re.a.firestore().collection("messages").add({date:new Date,dice:t.dice,diceresult:t.diceresult,type:re.a.firestore().collection("messagestype").doc("tPpi34OGIdE7aG5BEs3S"),from:re.a.firestore().collection("users").doc(t.from)}));case 4:e.prev=4,e.t0=e["catch"](0),console.log(e.t0);case 7:case"end":return e.stop()}}),e,null,[[0,4]])})));return function(t){return e.apply(this,arguments)}}(),le=function(){var e=g()(m.a.mark((function e(t,r,n){return m.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",re.a.firestore().collection(t).doc(r).update(n));case 4:e.prev=4,e.t0=e["catch"](0),console.log(e.t0);case 7:case"end":return e.stop()}}),e,null,[[0,4]])})));return function(t,r,n){return e.apply(this,arguments)}}();function de(e){var t=e.commit;return t("SET_DRAWERSTATE"),Z}var pe=Object(K["a"])((function(e){var t=e.bindFirestoreRef;return t("users",ue("users"))})),he=Object(K["a"])((function(e){var t=e.bindFirestoreRef;return t("messages",ie("messages","date"))}));function me(e,t){return ce({text:[t.message],from:t.currentUser.id})}function be(e,t){return fe({date:new Date,dice:t.dice,diceresult:t.diceresult,from:t.currentUser.id})}var ge={namespaced:!0,getters:n,mutations:a,actions:i,state:z},ve={currentUser:null,editUserDialog:!1,email:""},we=function(e){var t=e.currentUser;return t},xe=function(e){var t=e.editUserDialog;return t},ye=function(e,t){null!=t?e.currentUser=t:e.currentUser.id=null},Ue=function(e,t){e.editUserDialog=t};function ke(e,t){return le("users",e.currentUser.id,{charactername:t.charactername,fullName:t.fullName})}var Ae=function(e,t){e.email=t.emmail},Oe=Object(K["a"])((function(e,t){var r=e.bindFirestoreRef;return r("currentUser",ae("users",t))})),Pe={namespaced:!0,getters:o,mutations:s,actions:c,state:ve},Ee={isAuthenticated:!1,isReady:!1,uid:"",charactername:"",backgroundPhoto:"",email:"",fullName:"",profilePhoto:"",online:!1},Se=r("e8df");function De(e,t){e.isAuthenticated=t.isAuthenticated,e.isReady=t.isReady,e.uid=t.uid}function Re(e,t){e.authenticated=!!t}function je(e,t){e.token=t}r("8e6e"),r("8a81"),r("ac6a"),r("cadf"),r("06db"),r("456d");var Te=r("970b"),Qe=r.n(Te),Ie=r("9523"),We=r.n(Ie);function Ce(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Be(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ce(Object(r),!0).forEach((function(t){We()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ce(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Le=function e(t){var r=this;return Qe()(this,e),We()(this,"id",""),We()(this,"backgroundPhoto",""),We()(this,"email",""),We()(this,"fullName",""),We()(this,"charactername",""),We()(this,"profilePhoto",""),We()(this,"online",!1),Object.keys(t).forEach((function(e){r[e]=t[e]})),Be({},this)},qe=function(){var e=g()(m.a.mark((function e(t,r){var n,a;return m.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.email,a=new Le({email:n}),e.next=4,r.set(a);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),Ne=function(){var e=g()(m.a.mark((function e(t,r){var n,a,u,i,o,s,c;return m.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,a=this.$fb,u=r.email,i=r.password,n("user/setEmail",{email:u}),e.next=6,a.createUserWithEmail(u,i);case 6:return o=e.sent,s=o.user.uid,c=a.userRef("users",s),e.abrupt("return",qe({email:u},c));case 10:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}(),Ve=function(){var e=g()(m.a.mark((function e(t,r){var n,a,u,i;return m.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,a=this.$fb,u=r.email,i=r.password,n("user/setEmail",{email:u}),e.next=6,a.loginWithEmail(u,i).catch((function(e){var t=e.message;console.log(t)}));case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}(),$e=function(){var e=g()(m.a.mark((function e(t){var r;return m.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,Object(K["a"])((function(e){var t=e.unbindFirestoreRef;t("users")})),r("user/setCurrentUserData",{uid:null,email:"",fullName:"",charactername:""},{root:!0}),e.next=5,this.$fb.logoutUser();case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();function Fe(){this.$router.push({path:"/auth/login"})}var Me={namespaced:!0,state:Ee,getters:Se,mutations:f,actions:l};v["a"].use(_["a"]);var _e=function(){const e=new _["a"].Store({modules:{auth:Me,user:Pe,rpg:ge},mutations:Object.assign({},K["b"]),strict:!0});return e},Ke=r("4bde"),ze=r("8c4f");const Ze=[{path:"/",component:()=>Promise.all([r.e(0),r.e(1)]).then(r.bind(null,"713b")),meta:{requiresAuth:!0},children:[{path:"",component:()=>Promise.all([r.e(0),r.e(10)]).then(r.bind(null,"8b24")),meta:{requiresAuth:!0}},{path:"/users",component:()=>Promise.all([r.e(0),r.e(11)]).then(r.bind(null,"051b")),meta:{requiresAuth:!0}},{path:"/auth",component:()=>Promise.all([r.e(0),r.e(2)]).then(r.bind(null,"21f3")),meta:{requiresAuth:!0}}]},{path:"/auth",component:()=>Promise.all([r.e(0),r.e(1)]).then(r.bind(null,"713b")),children:[{path:"forgotPassword",name:"ForgotPassword",component:()=>Promise.all([r.e(0),r.e(5)]).then(r.bind(null,"1613"))},{path:"login",name:"Login",component:()=>Promise.all([r.e(0),r.e(2)]).then(r.bind(null,"21f3"))},{path:"register",name:"Register",component:()=>Promise.all([r.e(0),r.e(2)]).then(r.bind(null,"21f3"))}]},{path:"/user",component:()=>Promise.all([r.e(0),r.e(1)]).then(r.bind(null,"713b")),meta:{requiresAuth:!0},children:[{path:"profile",name:"UserProfile",component:()=>Promise.all([r.e(0),r.e(6)]).then(r.bind(null,"cdd0")),meta:{requiresAuth:!0}}]}];Ze.push({path:"*",component:()=>Promise.all([r.e(0),r.e(8)]).then(r.bind(null,"e51e"))});var Ge=Ze,He=Object(Ke["route"])((function({Vue:e}){e.use(ze["a"]);const t=new ze["a"]({scrollBehavior:()=>({x:0,y:0}),routes:Ge,mode:"hash",base:""});return t})),Je=function(){return Ye.apply(this,arguments)};function Ye(){return Ye=g()(m.a.mark((function e(){var t,r,n;return m.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("function"!==typeof _e){e.next=6;break}return e.next=3,_e({Vue:v["a"]});case 3:e.t0=e.sent,e.next=7;break;case 6:e.t0=_e;case 7:if(t=e.t0,"function"!==typeof He){e.next=14;break}return e.next=11,He({Vue:v["a"],store:t});case 11:e.t1=e.sent,e.next=15;break;case 14:e.t1=He;case 15:return r=e.t1,t.$router=r,n={router:r,store:t,render:function(e){return e(M)}},n.el="#q-app",e.abrupt("return",{app:n,store:t,router:r});case 20:case"end":return e.stop()}}),e)}))),Ye.apply(this,arguments)}var Xe=r("750b"),et=Object(Ke["boot"])(({Vue:e})=>{e.use(Xe["a"])}),tt={failed:"Action failed",success:"Action was successful"},rt={"en-us":tt},nt=r("a925");v["a"].use(nt["a"]);const at=new nt["a"]({locale:"en-us",fallbackLocale:"en-us",messages:rt});var ut=Object(Ke["boot"])(({app:e})=>{e.i18n=at}),it=r("bc3a"),ot=r.n(it),st=Object(Ke["boot"])(({Vue:e})=>{e.prototype.$axios=ot.a}),ct=(r("f751"),r("551c"),function(){return re.a}),ft=function(){return re.a.auth()},lt=function(){var e=g()(m.a.mark((function e(t){return m.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.state.auth.isReady){e.next=2;break}return e.abrupt("return",!0);case 2:return e.abrupt("return",new Promise((function(e,t){var r=re.a.auth().onAuthStateChanged((function(){e(),r()}),(function(){t(new Error("Looks like there is a problem with the firebase service. Please try again later"))}))})));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),dt=function(e){return re.a.initializeApp(e)},pt=function(e){return e.state.auth.isAuthenticated},ht=function(){return ft().signOut()},mt=function(){var e=g()(m.a.mark((function e(t,r){var n;return m.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=pt(t),t.commit("auth/setAuthState",{isAuthenticated:null!==r,isReady:!0,uid:r?r.uid:""}),!t.state.auth.isAuthenticated){e.next=9;break}return e.next=5,t.dispatch("user/getCurrentUser",r.uid);case 5:return e.next=7,t.dispatch("rpg/getUsers");case 7:return e.next=9,t.dispatch("rpg/getMessages");case 9:!r&&n&&t.dispatch("auth/routeUserToAuth");case 10:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),bt=function(){var e=g()(m.a.mark((function e(t,r){return m.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.beforeEach(function(){var e=g()(m.a.mark((function e(t,n,a){return m.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,lt(r);case 3:t.matched.some((function(e){return e.meta.requiresAuth}))?pt(r)?a():a("/auth/login"):"/auth/register"===t.path&&pt(r)||"/auth/login"===t.path&&pt(r)?a("/user"):a(),e.next=9;break;case 6:e.prev=6,e.t0=e["catch"](0),B["a"].create({message:"".concat(e.t0),color:"negative"});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,r,n){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),gt=function(e,t){return re.a.auth().createUserWithEmailAndPassword(e,t)},vt=function(){return re.a.auth().signOut()},wt=function(e,t){return re.a.auth().signInWithEmailAndPassword(e,t)},xt=Object.assign({},d,p,u),yt={apiKey:"AIzaSyBiK5yFWSYWHZTU7TEvRPSxZtbRPaOFVTg",authDomain:"rpggames.firebaseapp.com",databaseURL:"https://rpggames.firebaseio.com",projectId:"rpggames",storageBucket:"rpggames.appspot.com",messagingSenderId:"1094139033351",appId:"1:1094139033351:web:d0f0673a7ae8a10fcc37a2",measurementId:"G-DWRZ0L5WZF"},Ut=function(e){var t=e.router,r=e.store,n=e.Vue;xt.fBInit(yt),xt.auth().onAuthStateChanged((function(e){xt.handleOnAuthStateChanged(r,e)}),(function(e){console.error(e)})),xt.routerBeforeEach(t,r),n.prototype.$fb=xt,r.$fb=xt};function kt(){return At.apply(this,arguments)}function At(){return At=g()(m.a.mark((function e(){var t,r,n,a,u,i,o,s,c;return m.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Je();case 2:t=e.sent,r=t.app,n=t.store,a=t.router,u=!0,i=function(e){u=!1,window.location.href=e},o=window.location.href.replace(window.location.origin,""),s=[et,ut,st,Ut],c=0;case 11:if(!(!0===u&&c<s.length)){e.next=29;break}if("function"===typeof s[c]){e.next=14;break}return e.abrupt("continue",26);case 14:return e.prev=14,e.next=17,s[c]({app:r,router:a,store:n,Vue:v["a"],ssrContext:null,redirect:i,urlPath:o});case 17:e.next=26;break;case 19:if(e.prev=19,e.t0=e["catch"](14),!e.t0||!e.t0.url){e.next=24;break}return window.location.href=e.t0.url,e.abrupt("return");case 24:return console.error("[Quasar] boot error:",e.t0),e.abrupt("return");case 26:c++,e.next=11;break;case 29:if(!1!==u){e.next=31;break}return e.abrupt("return");case 31:new v["a"](r);case 32:case"end":return e.stop()}}),e,null,[[14,19]])}))),At.apply(this,arguments)}kt()},e8df:function(e,t){}},[[0,4,0]]]);