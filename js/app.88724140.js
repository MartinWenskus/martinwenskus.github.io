(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[3],{0:function(e,t,r){e.exports=r("2f39")},"0047":function(e,t,r){},"2f39":function(e,t,r){"use strict";r.r(t);var n={};r.r(n),r.d(n,"drawerState",(function(){return G})),r.d(n,"users",(function(){return K})),r.d(n,"messages",(function(){return Z}));var a={};r.r(a),r.d(a,"setDrawerState",(function(){return z})),r.d(a,"SET_DRAWERSTATE",(function(){return H})),r.d(a,"setCurrentUserData",(function(){return J})),r.d(a,"addUserToList",(function(){return Y}));var u={};r.r(u),r.d(u,"firestore",(function(){return te})),r.d(u,"userRef",(function(){return re})),r.d(u,"listRef",(function(){return ne})),r.d(u,"orderedListRef",(function(){return ae})),r.d(u,"storageRef",(function(){return ue})),r.d(u,"listRefPush",(function(){return ie})),r.d(u,"addNewMessage",(function(){return oe})),r.d(u,"addNewDicedMessage",(function(){return se})),r.d(u,"listRefUpdate",(function(){return ce}));var i={};r.r(i),r.d(i,"setDrawerState",(function(){return fe})),r.d(i,"getUsers",(function(){return le})),r.d(i,"getMessages",(function(){return de})),r.d(i,"sendTextMessage",(function(){return pe})),r.d(i,"sendDiceMessageToDB",(function(){return he}));var o={};r.r(o),r.d(o,"currentUser",(function(){return ge})),r.d(o,"editUserDialog",(function(){return ve}));var s={};r.r(s),r.d(s,"setCurrentUserData",(function(){return we})),r.d(s,"setEditUserDialog",(function(){return ye})),r.d(s,"changeCurrentUserData",(function(){return xe})),r.d(s,"setEmail",(function(){return Ue}));var c={};r.r(c),r.d(c,"getCurrentUser",(function(){return ke}));var f={};r.r(f),r.d(f,"setAuthState",(function(){return Ee})),r.d(f,"SET_USER",(function(){return Se})),r.d(f,"SET_TOKEN",(function(){return De}));var l={};r.r(l),r.d(l,"addUserToUsersCollection",(function(){return Be})),r.d(l,"createNewUser",(function(){return Le})),r.d(l,"loginUser",(function(){return qe})),r.d(l,"logoutUser",(function(){return Ne})),r.d(l,"routeUserToAuth",(function(){return Ve}));var d={};r.r(d),r.d(d,"self",(function(){return ot})),r.d(d,"auth",(function(){return st})),r.d(d,"ensureAuthIsInitialized",(function(){return ct})),r.d(d,"fBInit",(function(){return ft})),r.d(d,"isAuthenticated",(function(){return lt})),r.d(d,"logoutUser",(function(){return dt})),r.d(d,"handleOnAuthStateChanged",(function(){return pt})),r.d(d,"routerBeforeEach",(function(){return ht}));var p={};r.r(p),r.d(p,"createUserWithEmail",(function(){return mt})),r.d(p,"logoutUser",(function(){return bt})),r.d(p,"loginWithEmail",(function(){return gt}));var h=r("967e"),m=r.n(h),b=(r("a481"),r("96cf"),r("fa84")),g=r.n(b),v=(r("7d6e"),r("e54f"),r("985d"),r("0047"),r("2b0e")),w=r("1f91"),y=r("42d2"),x=r("b05d"),U=r("4d5a"),k=r("e359"),P=r("9404"),O=r("09e3"),A=r("9989"),E=r("65c6"),S=r("6ac5"),D=r("9c40"),R=r("0016"),j=r("1c1c"),T=r("66e5"),I=r("0170"),Q=r("f508"),W=r("2a19");v["a"].use(x["a"],{config:{},lang:w["a"],iconSet:y["a"],components:{QLayout:U["a"],QHeader:k["a"],QDrawer:P["a"],QPageContainer:O["a"],QPage:A["a"],QToolbar:E["a"],QToolbarTitle:S["a"],QBtn:D["a"],QIcon:R["a"],QList:j["a"],QItem:T["a"],QItemLabel:I["a"]},plugins:{Loading:Q["a"],Notify:W["a"]}});var C=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"q-app"}},[r("router-view")],1)},B=[],L={name:"App"},q=L,N=r("2877"),V=Object(N["a"])(q,C,B,!1,null,null,null),$=V.exports,F=r("2f62"),M=r("3317"),_={drawerState:!1,users:[],messages:[]},G=function(e){var t=e.drawerState;return t},K=function(e){var t=e.users;return t},Z=function(e){var t=e.messages;return t};function z(e,t){e.drawerState=t}function H(e,t){e.drawerState=t}var J=function(e,t){console.log(t),e.newUser=t};function Y(e,t){e.users.push(t)}var X=r("59ca"),ee=r.n(X),te=(r("ea7b"),r("e71f"),r("588e"),function(){return ee.a.firestore()}),re=function(e,t){return te().collection(e).doc(t)},ne=function(e){return te().collection(e)},ae=function(e,t){return te().collection(e).orderBy(t,"asc")},ue=function(e){return ee.a.storage().ref(e)},ie=function(){var e=g()(m.a.mark((function e(t,r){return m.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",ee.a.firestore().collection(t).add(r));case 4:e.prev=4,e.t0=e["catch"](0),console.log(e.t0);case 7:case"end":return e.stop()}}),e,null,[[0,4]])})));return function(t,r){return e.apply(this,arguments)}}(),oe=function(){var e=g()(m.a.mark((function e(t){return m.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",ee.a.firestore().collection("messages").add({date:new Date,text:t.text,type:ee.a.firestore().collection("messagestype").doc("Q5anEDhfAtKKWh7VAQWq"),from:ee.a.firestore().collection("users").doc(t.from)}));case 4:e.prev=4,e.t0=e["catch"](0),console.log(e.t0);case 7:case"end":return e.stop()}}),e,null,[[0,4]])})));return function(t){return e.apply(this,arguments)}}(),se=function(){var e=g()(m.a.mark((function e(t){return m.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",ee.a.firestore().collection("messages").add({date:new Date,dice:t.dice,diceresult:t.diceresult,type:ee.a.firestore().collection("messagestype").doc("tPpi34OGIdE7aG5BEs3S"),from:ee.a.firestore().collection("users").doc(t.from)}));case 4:e.prev=4,e.t0=e["catch"](0),console.log(e.t0);case 7:case"end":return e.stop()}}),e,null,[[0,4]])})));return function(t){return e.apply(this,arguments)}}(),ce=function(){var e=g()(m.a.mark((function e(t,r,n){return m.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",ee.a.firestore().collection(t).doc(r).update(n));case 4:e.prev=4,e.t0=e["catch"](0),console.log(e.t0);case 7:case"end":return e.stop()}}),e,null,[[0,4]])})));return function(t,r,n){return e.apply(this,arguments)}}();function fe(e){var t=e.commit;return t("SET_DRAWERSTATE"),G}var le=Object(M["a"])((function(e){var t=e.bindFirestoreRef;return t("users",ne("users"))})),de=Object(M["a"])((function(e){var t=e.bindFirestoreRef;return t("messages",ae("messages","date"))}));function pe(e,t){return oe({text:[t.message],from:t.currentUser.id})}function he(e,t){return console.log(t),ie("messages",{date:new Date,dice:t.dice,diceresult:t.diceresult,type:"/messages/tPpi34OGIdE7aG5BEs3S",from:"/users/"+t.currentUser.id})}var me={namespaced:!0,getters:n,mutations:a,actions:i,state:_},be={currentUser:null,editUserDialog:!1,email:""},ge=function(e){var t=e.currentUser;return t},ve=function(e){var t=e.editUserDialog;return t},we=function(e,t){null!=t?e.currentUser=t:e.currentUser.id=null},ye=function(e,t){e.editUserDialog=t};function xe(e,t){return ce("users",e.currentUser.id,{charactername:t.charactername,fullName:t.fullName})}var Ue=function(e,t){e.email=t.emmail},ke=Object(M["a"])((function(e,t){var r=e.bindFirestoreRef;return r("currentUser",re("users",t))})),Pe={namespaced:!0,getters:o,mutations:s,actions:c,state:be},Oe={isAuthenticated:!1,isReady:!1,uid:"",charactername:"",backgroundPhoto:"",email:"",fullName:"",profilePhoto:"",online:!1},Ae=r("e8df");function Ee(e,t){e.isAuthenticated=t.isAuthenticated,e.isReady=t.isReady,e.uid=t.uid}function Se(e,t){e.authenticated=!!t}function De(e,t){e.token=t}r("8e6e"),r("8a81"),r("ac6a"),r("cadf"),r("06db"),r("456d");var Re=r("fc74"),je=r.n(Re),Te=r("c47a"),Ie=r.n(Te);function Qe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function We(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Qe(Object(r),!0).forEach((function(t){Ie()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Ce=function e(t){var r=this;return je()(this,e),Ie()(this,"id",""),Ie()(this,"backgroundPhoto",""),Ie()(this,"email",""),Ie()(this,"fullName",""),Ie()(this,"charactername",""),Ie()(this,"profilePhoto",""),Ie()(this,"online",!1),Object.keys(t).forEach((function(e){r[e]=t[e]})),We({},this)},Be=function(){var e=g()(m.a.mark((function e(t,r){var n,a;return m.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.email,a=new Ce({email:n}),e.next=4,r.set(a);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),Le=function(){var e=g()(m.a.mark((function e(t,r){var n,a,u,i,o,s,c;return m.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,a=this.$fb,u=r.email,i=r.password,n("user/setEmail",{email:u}),e.next=6,a.createUserWithEmail(u,i);case 6:return o=e.sent,s=o.user.uid,c=a.userRef("users",s),e.abrupt("return",Be({email:u},c));case 10:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}(),qe=function(){var e=g()(m.a.mark((function e(t,r){var n,a,u,i;return m.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,a=this.$fb,u=r.email,i=r.password,n("user/setEmail",{email:u}),e.next=6,a.loginWithEmail(u,i).catch((function(e){var t=e.message;console.log(t)}));case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}(),Ne=function(){var e=g()(m.a.mark((function e(t){var r;return m.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,Object(M["a"])((function(e){var t=e.unbindFirestoreRef;t("users")})),r("user/setCurrentUserData",{uid:null,email:"",fullName:"",charactername:""},{root:!0}),e.next=5,this.$fb.logoutUser();case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();function Ve(){this.$router.push({path:"/auth/login"})}var $e={namespaced:!0,state:Oe,getters:Ae,mutations:f,actions:l};v["a"].use(F["a"]);var Fe=function(){const e=new F["a"].Store({modules:{auth:$e,user:Pe,rpg:me},mutations:Object.assign({},M["b"]),strict:!0});return e},Me=r("4bde"),_e=r("8c4f");const Ge=[{path:"/",component:()=>Promise.all([r.e(0),r.e(1)]).then(r.bind(null,"713b")),meta:{requiresAuth:!0},children:[{path:"",component:()=>Promise.all([r.e(0),r.e(10)]).then(r.bind(null,"8b24")),meta:{requiresAuth:!0}},{path:"/users",component:()=>Promise.all([r.e(0),r.e(11)]).then(r.bind(null,"051b")),meta:{requiresAuth:!0}},{path:"/auth",component:()=>Promise.all([r.e(0),r.e(2)]).then(r.bind(null,"21f3")),meta:{requiresAuth:!0}}]},{path:"/auth",component:()=>Promise.all([r.e(0),r.e(1)]).then(r.bind(null,"713b")),children:[{path:"forgotPassword",name:"ForgotPassword",component:()=>Promise.all([r.e(0),r.e(5)]).then(r.bind(null,"1613"))},{path:"login",name:"Login",component:()=>Promise.all([r.e(0),r.e(2)]).then(r.bind(null,"21f3"))},{path:"register",name:"Register",component:()=>Promise.all([r.e(0),r.e(2)]).then(r.bind(null,"21f3"))}]},{path:"/user",component:()=>Promise.all([r.e(0),r.e(1)]).then(r.bind(null,"713b")),meta:{requiresAuth:!0},children:[{path:"profile",name:"UserProfile",component:()=>Promise.all([r.e(0),r.e(6)]).then(r.bind(null,"cdd0")),meta:{requiresAuth:!0}}]}];Ge.push({path:"*",component:()=>Promise.all([r.e(0),r.e(8)]).then(r.bind(null,"e51e"))});var Ke=Ge,Ze=Object(Me["route"])((function({Vue:e}){e.use(_e["a"]);const t=new _e["a"]({scrollBehavior:()=>({x:0,y:0}),routes:Ke,mode:"hash",base:""});return t})),ze=function(){return He.apply(this,arguments)};function He(){return He=g()(m.a.mark((function e(){var t,r,n;return m.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("function"!==typeof Fe){e.next=6;break}return e.next=3,Fe({Vue:v["a"]});case 3:e.t0=e.sent,e.next=7;break;case 6:e.t0=Fe;case 7:if(t=e.t0,"function"!==typeof Ze){e.next=14;break}return e.next=11,Ze({Vue:v["a"],store:t});case 11:e.t1=e.sent,e.next=15;break;case 14:e.t1=Ze;case 15:return r=e.t1,t.$router=r,n={el:"#q-app",router:r,store:t,render:function(e){return e($)}},e.abrupt("return",{app:n,store:t,router:r});case 19:case"end":return e.stop()}}),e)}))),He.apply(this,arguments)}var Je=r("750b"),Ye=Object(Me["boot"])(({Vue:e})=>{e.use(Je["a"])}),Xe={failed:"Action failed",success:"Action was successful"},et={"en-us":Xe},tt=r("a925");v["a"].use(tt["a"]);const rt=new tt["a"]({locale:"en-us",fallbackLocale:"en-us",messages:et});var nt=Object(Me["boot"])(({app:e})=>{e.i18n=rt}),at=r("bc3a"),ut=r.n(at),it=Object(Me["boot"])(({Vue:e})=>{e.prototype.$axios=ut.a}),ot=(r("f751"),r("551c"),function(){return ee.a}),st=function(){return ee.a.auth()},ct=function(){var e=g()(m.a.mark((function e(t){return m.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.state.auth.isReady){e.next=2;break}return e.abrupt("return",!0);case 2:return e.abrupt("return",new Promise((function(e,t){var r=ee.a.auth().onAuthStateChanged((function(){e(),r()}),(function(){t(new Error("Looks like there is a problem with the firebase service. Please try again later"))}))})));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ft=function(e){return ee.a.initializeApp(e)},lt=function(e){return e.state.auth.isAuthenticated},dt=function(){return st().signOut()},pt=function(){var e=g()(m.a.mark((function e(t,r){var n;return m.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=lt(t),t.commit("auth/setAuthState",{isAuthenticated:null!==r,isReady:!0,uid:r?r.uid:""}),!t.state.auth.isAuthenticated){e.next=9;break}return e.next=5,t.dispatch("user/getCurrentUser",r.uid);case 5:return e.next=7,t.dispatch("rpg/getUsers");case 7:return e.next=9,t.dispatch("rpg/getMessages");case 9:!r&&n&&t.dispatch("auth/routeUserToAuth");case 10:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),ht=function(){var e=g()(m.a.mark((function e(t,r){return m.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.beforeEach(function(){var e=g()(m.a.mark((function e(t,n,a){return m.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ct(r);case 3:t.matched.some((function(e){return e.meta.requiresAuth}))?lt(r)?a():a("/auth/login"):"/auth/register"===t.path&&lt(r)||"/auth/login"===t.path&&lt(r)?a("/user"):a(),e.next=9;break;case 6:e.prev=6,e.t0=e["catch"](0),W["a"].create({message:"".concat(e.t0),color:"negative"});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,r,n){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),mt=function(e,t){return ee.a.auth().createUserWithEmailAndPassword(e,t)},bt=function(){return ee.a.auth().signOut()},gt=function(e,t){return ee.a.auth().signInWithEmailAndPassword(e,t)},vt=Object.assign({},d,p,u),wt={apiKey:"AIzaSyBiK5yFWSYWHZTU7TEvRPSxZtbRPaOFVTg",authDomain:"rpggames.firebaseapp.com",databaseURL:"https://rpggames.firebaseio.com",projectId:"rpggames",storageBucket:"rpggames.appspot.com",messagingSenderId:"1094139033351",appId:"1:1094139033351:web:d0f0673a7ae8a10fcc37a2",measurementId:"G-DWRZ0L5WZF"},yt=function(e){var t=e.router,r=e.store,n=e.Vue;vt.fBInit(wt),vt.auth().onAuthStateChanged((function(e){vt.handleOnAuthStateChanged(r,e)}),(function(e){console.error(e)})),vt.routerBeforeEach(t,r),n.prototype.$fb=vt,r.$fb=vt};function xt(){return Ut.apply(this,arguments)}function Ut(){return Ut=g()(m.a.mark((function e(){var t,r,n,a,u,i,o,s,c;return m.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ze();case 2:t=e.sent,r=t.app,n=t.store,a=t.router,u=!0,i=function(e){u=!1,window.location.href=e},o=window.location.href.replace(window.location.origin,""),s=[Ye,nt,it,yt],c=0;case 11:if(!(!0===u&&c<s.length)){e.next=29;break}if("function"===typeof s[c]){e.next=14;break}return e.abrupt("continue",26);case 14:return e.prev=14,e.next=17,s[c]({app:r,router:a,store:n,Vue:v["a"],ssrContext:null,redirect:i,urlPath:o});case 17:e.next=26;break;case 19:if(e.prev=19,e.t0=e["catch"](14),!e.t0||!e.t0.url){e.next=24;break}return window.location.href=e.t0.url,e.abrupt("return");case 24:return console.error("[Quasar] boot error:",e.t0),e.abrupt("return");case 26:c++,e.next=11;break;case 29:if(!1!==u){e.next=31;break}return e.abrupt("return");case 31:new v["a"](r);case 32:case"end":return e.stop()}}),e,null,[[14,19]])}))),Ut.apply(this,arguments)}xt()},e8df:function(e,t){}},[[0,4,0]]]);